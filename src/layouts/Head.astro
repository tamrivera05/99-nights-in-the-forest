---
import { AstroFont } from "astro-font";
import { SEO } from "astro-seo";
import { Schema } from "astro-seo-schema";

interface Props {
  title: string;
  description?: string;
}

const { title, description }: Props = Astro.props;
const metaDescription =
  description ??
  "Unlock exclusive rewards in 99 Nights in the Forest! Claim free diamonds, weapons, and tools to enhance your survival experience. Updated daily!";
---

<head>
  <SEO
    title={title}
    titleTemplate="%s | 99 Nights in the Forest Free Diamonds"
    description={metaDescription}
    charset="UTF-8"
    openGraph={{
      basic: {
        // OG title should never be the same as the page title
        title: "99 Nights in the Forest - Claim Free Items",
        type: "website",
        image: `${import.meta.env.SITE}/og-image.png`,
        url: `${import.meta.env.SITE}`,
      },
      optional: {
        description: metaDescription,
      },
    }}
    twitter={{
      card: "summary_large_image",
      title: "99 Nights in the Forest - Claim Free Items",
      description: metaDescription,
      image: `${import.meta.env.SITE}/og-image.png`,
    }}
    extend={{
      link: [
        {
          rel: "icon",
          href: "/favicon.ico",
        },
        {
          rel: "sitemap",
          href: "/sitemap-index.xml",
        },
        {
          rel: "canonical",
          href: new URL(Astro.url.pathname, Astro.site).href,
        },
      ],
      meta: [
        {
          name: "viewport",
          content: "width=device-width, initial-scale=1.0",
        },
      ],
    }}
  />
  <Schema
    item={{
      "@context": "https://schema.org",
      "@type": "WebSite",
      name: "99 Nights in the Forest Free Diamonds",
      description: metaDescription,
      url: import.meta.env.SITE,
      potentialAction: {
        "@type": "SearchAction",
        target: `${import.meta.env.SITE}/generator?q={search_term_string}`,
        "query-input": "required name=search_term_string"
      }
    }}
  />
  <AstroFont
    config={[
      {
        src: [],
        name: "Lexend",
        // Google Fonts URL
        googleFontsURL:
          "https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&family=Red+Hat+Display:ital,wght@0,300..900;1,300..900&display=swap",
        preload: true,
        display: "swap",
        selector: "body",
        fallback: "sans-serif",
      },
      {
        src: [],
        name: "IBM Plex Sans",
        // Google Fonts URL
        googleFontsURL:
          "https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100..700;1,100..700&display=swap",
        preload: true,
        display: "swap",
        selector: ".font-ibm",
        fallback: "sans-serif",
      },
    ]}
  />
  <script>
    // Intersection observer for animations
    import { Observer } from "tailwindcss-intersect";
    Observer.start();
  </script>
</head>
